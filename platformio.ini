; PlatformIO Project Configuration File
; M5Stack AtomS3 DTU-NB-IoT with SIM7028
; NB-IoT JamBox Probe Counter Firmware

[env:m5stack-atoms3]
platform = espressif32
board = m5stack-atoms3
framework = arduino
monitor_speed = 115200
upload_port = /dev/cu.usbmodem1101
monitor_port = /dev/cu.usbmodem1101

; Build flags for debugging and features
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DCONFIG_ARDUHAL_LOG_COLORS=1
    -DCONFIG_BOOTLOADER_APP_ROLLBACK_ENABLE=1

; Library dependencies
lib_deps =
    fastled/FastLED@^3.6.0
    h2zero/NimBLE-Arduino@^1.4.1
    ; ArduinoOTA is included in ESP32 Arduino core

; Monitor filters for cleaner output
monitor_filters =
    direct
    esp32_exception_decoder

; OTA partition scheme - allows for OTA updates
board_build.partitions = min_spiffs.csv
